<ion-view title="Abflug" style="background-color:#E3E3E3;">
  <ion-content padding="true" class="has-header">
    <ion-refresher pulling-text="Aktualisieren" on-refresh="refreshDeparture()">
    </ion-refresher>

      <div class="row" ng-repeat="flight in flights">
        <div class="col s12 m7">
          <div class="card">
            <div class="card-image">
              <img src="img/flight_wide.png">
              <span class="card-title" style="color:black">{{flight.Arrival.AirportCode | getAirportName }} ({{ flight.Arrival.AirportCode }})</span>
            </div>
            <div class="card-content">
              <span class="card-title"></span>
              <p>Flugnummer: {{flight.MarketingCarrier.AirlineID}} {{flight.MarketingCarrier.FlightNumber}}</p>
              <p>Flugzeugtyp: {{flight.Equipment.AircraftCode}}</p>
              <p>Abflug: {{flight.Departure.ScheduledTimeLocal.DateTime | formatDate}}</p>
              <p>Avisierte Ankunft: {{flight.Arrival.ScheduledTimeLocal.DateTime | formatDate}}</p>
              <p>Geplante Ankunft: {{flight.Arrival.EstimatedTimeLocal.DateTime | formatDate}}</p>
              <p>Operated by {{ flight.MarketingCarrier.AirlineID | getAirline }}</p>

            </div>
            <div class="card-action">
              <a ng-if="flight.FlightStatus.Code=='DP'" style="color:red">{{flight.FlightStatus.Definition}}</a>
              <a ng-if="flight.FlightStatus.Code=='OT'" style="color:green">{{flight.FlightStatus.Definition}}</a>
              <a ng-if="flight.FlightStatus.Code=='NO'" style="color:black">{{flight.FlightStatus.Definition}}</a>
              <a ng-if="flight.FlightStatus.Code=='LD'" style="color:green">{{flight.FlightStatus.Definition}}</a>
              <a ng-if="flight.FlightStatus.Code=='FE' || flight.FlightStatus.Code=='NI' || flight.FlightStatus.Code=='NA'" style="color:black">{{flight.FlightStatus.Definition}}</a>
              <a href="#">Zielland: {{ flight.Arrival.AirportCode | getCountryNameByIATA }}</a>
            </div>
          </div>
        </div>
      </div>


      <div class="row" ng-repeat="flight in flights">
         <div class="col s12 m6">
           <div class="card white lighten-5">
             <div class="card-content black-text">
               <span class="card-title">{{flight.Arrival.AirportCode}} ({{flight.MarketingCarrier.AirlineID}} {{flight.MarketingCarrier.FlightNumber}}) </span>
                 <p>Flugzeugtyp: {{flight.Equipment.AircraftCode}}</p>
                 <p>{{flight.Arrival.ScheduledTimeLocal.DateTime}}</p>
                 <p>Operated by {{ flight.MarketingCarrier.AirlineID}}</p>

             </div>
             <div class="card-action">
               <a ng-if="flight.FlightStatus.Code=='DP'" style="color:red">Status: {{flight.FlightStatus.Definition}}</a>
               <a ng-if="flight.FlightStatus.Code=='OT'" style="color:green">Status: {{flight.FlightStatus.Definition}}</a>
               <a ng-if="flight.FlightStatus.Code=='NO'" style="color:black">Status: {{flight.FlightStatus.Definition}}</a>
               <a ng-if="flight.FlightStatus.Code=='LD'" style="color:green">Status: {{flight.FlightStatus.Definition}}</a>
               <a ng-if="flight.FlightStatus.Code=='FE' || flight.FlightStatus.Code=='NI' || flight.FlightStatus.Code=='NA'" style="color:black">{{flight.FlightStatus.Definition}}</a>

               <a href="#">Mehr Infos</a>
             </div>
           </div>
         </div>
       </div>

  </ion-content>
</ion-view>
